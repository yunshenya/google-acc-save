<!DOCTYPE html>
<html lang="zh-CN" xmlns="http://www.w3.org/1999/xhtml" xmlns="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>代理集合管理 - 账户管理系统</title>
    <link href="../static/css/index.css" rel="stylesheet">
    <link href="../static/css/proxy.css" rel="stylesheet">
</head>
<body>
<div class="proxy-container">
    <div class="proxy-header">
        <h1>🌐 代理集合管理</h1>
        <div style="display: flex; gap: 10px; align-items: center;">
            <button class="refresh-btn" id="refreshBtn" onclick="loadProxyData()">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" id="refreshIcon">
                    <polyline points="23 4 23 10 17 10"></polyline>
                    <polyline points="1 20 1 14 7 14"></polyline>
                    <path d="m3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path>
                </svg>
                刷新数据
            </button>
            <button class="secondary" onclick="window.location.href='/'">返回主页</button>
        </div>
    </div>

    <!-- 错误消息 -->
    <div class="error" id="error" style="display: none;">
        <svg fill="currentColor" height="20" viewBox="0 0 20 20" width="20">
            <path clip-rule="evenodd"
                  d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"
                  fill-rule="evenodd"/>
        </svg>
        <span id="errorMessage"></span>
    </div>

    <!-- 统计卡片 -->
    <div class="stats-cards" id="statsCards">
        <!-- 通过 JavaScript 动态填充 -->
    </div>

    <!-- 控制区域 -->
    <div class="proxy-controls">
        <div class="search-filter-row">
            <input type="text" class="search-input" id="searchInput" placeholder="搜索国家、代码或代理URL...">
            <select class="filter-select" id="countryFilter">
                <option value="">所有国家</option>
            </select>
            <select class="filter-select" id="languageFilter">
                <option value="">所有语言</option>
            </select>
        </div>
        <div style="display: flex; gap: 10px;">
            <button id="applyFilters">应用筛选</button>
            <button class="secondary" id="resetFilters">重置筛选</button>
        </div>
    </div>

    <!-- 代理数据表格 -->
    <div class="table-container" style="position: relative;">
        <div class="loading-overlay" id="loadingOverlay" style="display: none;">
            <div class="loading">
                <svg fill="var(--primary-color)" height="24" style="animation: spin 1s linear infinite;" viewBox="0 0 24 24" width="24">
                    <path d="M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z" opacity=".25"/>
                    <path d="M12,4a8,8,0,0,1,7.89,6.7A1.53,1.53,0,0,0,21.38,12h0a1.5,1.5,0,0,0,1.48-1.75,11,11,0,0,0-21.72,0A1.5,1.5,0,0,0,2.62,12h0a1.53,1.53,0,0,0,1.49-1.3A8,8,0,0,1,12,4Z"/>
                </svg>
                <div style="margin-left: 10px;">加载中...</div>
            </div>
        </div>

        <table class="proxy-table" id="proxyTable">
            <thead>
            <tr>
                <th>ID</th>
                <th>国家</th>
                <th>代码</th>
                <th>Android版本</th>
                <th>模板ID</th>
                <th>纬度</th>
                <th>经度</th>
                <th>代理URL</th>
                <th>语言</th>
                <th>时区</th>
                <th>创建时间</th>
                <th>操作</th>
            </tr>
            </thead>
            <tbody id="proxyTableBody">
            <!-- 通过 JavaScript 动态填充 -->
            </tbody>
        </table>

        <!-- 空状态 -->
        <div class="empty-state" id="emptyState" style="display: none;">
            <svg fill="none" height="48" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24" width="48">
                <path d="M12 21a9.004 9.004 0 008.716-6.747M12 21a9.004 9.004 0 01-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3s-4.5 4.03-4.5 9 2.015 9 4.5 9z" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M2 12h20" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <h3>暂无代理数据</h3>
            <p>系统中还没有记录任何代理集合信息</p>
        </div>
    </div>
</div>

<script src="../static/js/proxy.js"></script>
</body>
</html>